<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>
        嘉加益保健
    </title>
    <link rel="shortcut icon" href="http://oqlse9rck.bkt.clouddn.com/favicon.ico">
    <link href="css/TothingWay.css" rel="stylesheet" />
    <link href="css/repository.css" rel="stylesheet" />
</head>
<style>
    .column-content li:hover {
        font-weight: bold;
    }
</style>

<body>

<!--导航-->
<nav class="navbar navbar-default nav-scroll navbar-fixed-top">
    <div class="container">
        <!--导航左半部分-->
        <div class="navbar-header">
            <!--手机模式导航按钮-->
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar"
                    aria-expanded="false" aria-controls="navbar">
                    <span class="sr-only">
                       养生堂
                    </span>
                <span class="icon-bar">
                    </span>
                <span class="icon-bar">
                    </span>
                <span class="icon-bar">
                    </span>
            </button>
            <!--logo-->
            <a class="navbar-brand" href="index.html"></a>
        </div>
        <!--导航右半部分-->
        <div id="navbar" class="navbar-collapse collapse">
            <ul class="nav navbar-nav navbar-right">
                <li>
                    <a href="index.html">
                        首页
                    </a>
                </li>
                <li>
                    <a href="resource-index.html">
                        产品中心
                    </a>
                </li>
                <li class="active">
                    <a href="repository-index.html">
                        知识百科
                    </a>
                </li>
                <li>
                    <a href="quiz-index.html">
                        在线问答
                    </a>
                </li>
                <li class="dropdown" id="success_login">
                    <a href="#" data-toggle="modal" data-target="#login">
                        登录
                    </a>
                </li>
                <li class="register" id="success_register">
                    <a href="#" data-toggle="modal" data-target="#register">
                        注册
                    </a>
                </li>

                <!--登录成功后显示的个人信息下拉菜单-->
                <li class="dropdown" id="login_success_show">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true"
                       aria-expanded="false">
                            <span id="login_success_name">
                            </span>
                        <span class="caret">
                            </span>
                    </a>
                    <ul class="dropdown-menu">
                        <li>
                            <a href="shopcat.html">
                                购物车
                            </a>
                        </li>
                        <li>
                            <a href="receiving.html">
                                订单
                            </a>
                        </li>
                        <li>
                            <a href="my-data.html">
                                个人中心
                            </a>
                        </li>
                        <li>
                            <a href="javascript:exit();">
                                注销
                            </a>
                        </li>
                    </ul>
                </li>
            </ul>
        </div>
        <!-- /.nav-collapse -->
    </div>
</nav>
 <!--banner-->
    <div class="banner">
        <div class="banner-img">

        </div>
    </div>

    <!--资源详情-->
    <div class="container detal-container">


        <!--知识目录-->
        <div class="row detal-main" id="app">
            <div class="col-xs-12 col-sm-3">
                <div class="recommendation">
                    <h3><span class="glyphicon glyphicon-bookmark"></span> 知识目录</h3>
                    <div class="column-content" id='apps1'>
                        <ul>
                            <li v-for='item in other'>
                                <a href="javascript:;" onclick="hf(this)"> • {{item.title}}</a>
                                <span hidden='hidden' v-text='item.tid'></span>
                            </li>

                        </ul>
                    </div>
                </div>
            </div>
            <!--右边知识详情-->
            <div class="col-xs-12 col-sm-9">
                <div class="recommendation padding" id="app">
                    <h4 v-text="title">养生知识</h4>
                    <p class="gray" v-html="content">养生之道...</p>
                </div>
                <!--/.recommendation-->
            </div>
        </div>
    </div>

    <div class="footer">
        养生之道——养生知识
    </div>
    <!-- register -->
    <div class="modal fade" id="register" role="dialog">
        <div class="modal-dialog modal-sm" role="document">
            <!--弹框——注册表单-->
            <div class="modal-content" id="register-main" style="display:block;">
                <!--标题-->
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal">
                        <span aria-hidden="true">
                            &times;
                        </span>
                    </button>
                    <h5 class="modal-title">
                        JOJOYI
                    </h5>
                </div>
                <!--注册表单-->
                <div class="modal-body">

                    <!--User name-->
                    <div class="input-wrapper">
                        <input type="text" placeholder="用户名" id="reg_name"/>
                        <!--Error message-->
                        <span class="animated fadeInRight register-username-wrong" id="reg_name_Top">

                        </span>
                    </div>
                    <!--Password-->
                    <div class="input-wrapper">
                        <input type="password" class="register-password" id="reg_password" placeholder="密码"/>
                        <!--显示与隐藏密码-->
                        <a href="javascript:;" class="btn-eye-register">
                            <i class="icon-eye-open" id="icon-eye-register">
                            </i>
                        </a>
                        <!--Error message-->
                        <span class="animated fadeInRight pw-error register-password-wrong" id="reg_password_Top">

                        </span>
                    </div>

                    <!--Phone-->
                    <div class="input-wrapper">
                        <input type="text" placeholder="电话号码" id="phone"/>
                        <!--Error message-->
                        <span class="animated fadeInRight register-email-wrong" id="phone_Top">

                        </span>
                    </div>
                    <!--Email-->
                    <div class="input-wrapper">
                        <input type="text" placeholder="邮箱" id="email"/>
                        <!--Error message-->
                        <span class="animated fadeInRight register-email-wrong" id="email_Top">

                        </span>
                    </div>
                    <!--验证码-->
                    <div class="input-wrapper">
                        <input type="text" placeholder="验证码" id="captcha"/>
                        <!--验证码图片-->
                        <button id="get_phone_num" class="btn">获取验证码</button>
                        <!--Error message-->
                        <span class="animated fadeInRight code-error register-code-wrong" id="captcha_Top">

                        </span>
                    </div>
                </div>
                <!--/.modal-body-->

                <!--注册按钮-->
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary btn-block " id="btn-register">
                        注册
                    </button>
                </div>
            </div>

            <!--弹框——邮箱验证-->
            <!--<div class="modal-content" id="register-success" style="display: none;">
                <div class="modal-header">
                    &lt;!&ndash;关闭按钮&ndash;&gt;
                    <button type="button" class="close" data-dismiss="modal">
                            <span aria-hidden="true">
                                &times;
                            </span>
                    </button>
                    &lt;!&ndash;返回按钮&ndash;&gt;
                    <button type="button" class="close back">
                            <span aria-hidden="true">
                                <i class="icon-angle-left">
                                </i>
                            </span>
                    </button>
                    &lt;!&ndash;标题&ndash;&gt;
                    <h5 class="modal-title">
                        邮箱验证
                    </h5>
                </div>-->
            <!--content-->
            <!-- <div class="modal-body">
                 <div class="input-wrapper">
                     <input type="text" placeholder="请输入6位验证码"/>
                     &lt;!&ndash;重发验证码按钮&ndash;&gt;
                     <button class="btn" id="code-btn2" type="button">
                         重发验证码
                     </button>
                     &lt;!&ndash;Error message&ndash;&gt;
                     <span class="animated fadeInRight email-code-error">
                             验证码错误
                         </span>
                 </div>
             </div>
             &lt;!&ndash;注册成功后进入平台&ndash;&gt;
             <div class="modal-footer">
                 <button type="button" class="btn btn-primary btn-block">
                     进入平台
                 </button>
             </div>-->
        </div>
    </div>
    <!--/.modal-dialog-->
    </div>

    <!-- login -->
    <div class="modal fade" id="login" role="dialog">
        <div class="modal-dialog modal-sm" role="document">
            <!--弹框——登录-->
            <div class="modal-content" id="first">
                <div class="modal-header">
                    <!--关闭按钮-->
                    <button type="button" class="close" data-dismiss="modal">
                        <span aria-hidden="true">
                            &times;
                        </span>
                    </button>
                    <!--标题-->
                    <h5 class="modal-title">
                        JOJOYI
                    </h5>
                </div>
                <div class="modal-body">
                    <!--User name-->
                    <div class="input-wrapper">
                        <input type="text" placeholder="用户名" id="login_name"/>
                        <!--Error message-->
                        <span class="animated fadeInRight login-username-wrong" id="login_name_Top">

                        </span>
                    </div>
                    <div class="input-wrapper">
                        <!--Password-->
                        <input type="password" placeholder="密码" id="login_password"/>
                        <!--Error message-->
                        <span class="animated fadeInRight login-password-wrong" id="login_password_Top">

                        </span>
                    </div>
                </div>
                <div class="modal-footer">
                    <div class="clearfix login-help">
                        <!--无法登录-->
                        <div class="col-xs-6">
                            <a href="#" class="unable-login">
                                无法登录？
                            </a>
                        </div>
                    </div>
                    <!--登录按钮-->
                    <button type="button" class="btn btn-primary btn-block" id="login-btn">
                        登录
                    </button>
                </div>
            </div>

            <!-- 弹框——无法登录 -->
            <div class="modal-content" id="second" style="display: none;">
                <div class="modal-header unable-login-header">
                    <!--关闭按钮-->
                    <button type="button" class="close" data-dismiss="modal">
                        <span aria-hidden="true">
                            &times;
                        </span>
                    </button>
                    <!--标题-->
                    <h5 class="modal-title">
                        找回密码
                    </h5>
                </div>
                <div class="modal-body">
                    <div class="input-wrapper">
                        <!--Email-->
                        <input type="text" placeholder="电话号码"/>
                        <!--Error message-->
                        <span class="animated fadeInRight find-password-email-wrong" id="phone_Top_z">

                        </span>
                    </div>
                    <div class="input-wrapper">
                        <!--验证码-->
                        <input type="text" placeholder="验证码" id="captch"/>

                        <!--Error message-->
                        <span class="animated fadeInRight code-error find-password-code-wrong" id="login_captch" >

                        </span>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary btn-block get-code" id="captch_btn">
                        获取验证码
                    </button>
                </div>
            </div>

            <!-- 弹框——获取验证码 -->
            <div class="modal-content" id="last" style="display: none;">
                <div class="modal-header unable-login-header">
                    <!--关闭按钮-->
                    <button type="button" class="close" data-dismiss="modal">
                        <span aria-hidden="true">
                            &times;
                        </span>
                    </button>
                    <!--标题-->
                    <h5 class="modal-title">
                        重置密码
                    </h5>
                </div>
                <div class="modal-body">
                    <div class="input-wrapper">
                        <!--Email-->
                        <input type="text" placeholder="邮箱"/>
                        <!--Error message-->
                        <span class="animated fadeInRight">
                            请输入正确验证码
                        </span>
                    </div>
                    <div class="input-wrapper">
                        <!--Password-->
                        <input type="password" id="set-type-login" placeholder="密码"/>
                        <!--显示与隐藏密码-->
                        <a href="javascript:;" class="btn-eye-login">
                            <i class="icon-eye-open" id="icon-eye-login">
                            </i>
                        </a>
                        <!--Error message-->
                        <span class="animated fadeInRight pw-error">
                            用户名或密码错误
                        </span>
                    </div>
                    <div class="input-wrapper">
                        <input type="text" placeholder="请输入6位验证码"/>
                        <!--发现验证码按钮-->
                        <button class="btn" id="code-btn" type="button">
                            重发验证码
                        </button>
                        <!--Error message-->
                        <span class="animated fadeInRight email-code-error">
                            验证码错误
                        </span>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary btn-block get-code">
                        重置密码
                    </button>
                </div>
            </div>
        </div>
    </div>
    <script src="js/TothingWay.js">
    </script>
    <script src="js/repository.js">
    </script>
    <script src="js/jquery-3.4.1.min.js"></script>
    <script src="js/vue.js"></script>
    <script src="js/register.js"></script>
    <script src="js/login.js"></script>
    <script>
        var vm = new Vue({
            el: '#app',
            data: {
                title: '',
                content: '',
                other: [],
            },
            methods: {

            }
        })


        var query = window.location.search.substring(1);
        console.log(query);
        var pair = query.split("=");

        $(function() {
            $.ajax({
                type: 'get',
                url: 'http://localhost:8080/arts/' + pair[1],
                dataType: 'json',
                success: function(data) {
                    $.ajax({
                        url: data.txtsrc,
                        dataType: "text",
                        type: "post",
                        success: function(data) {
                            data = data.replace(/\n/g, "<br>");
                            vm.title = data.substring(0, data.indexOf("<br>"));
                            vm.content = data.substring(data.indexOf("<br>"));
                        }
                    });

                }
            })


            $.ajax({
                type: 'get',
                url: 'http://localhost:8080/allarts',
                dataType: 'json',
                success: function(data) {
                    vm.other = data;

                }
            })


        })

        function hf(obj) {
            var obj = obj.nextElementSibling;
            window.location.href = ("repository-detal.html?id=" + obj.innerText);
        }
    </script>
</body>

</html>